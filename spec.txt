Screen Reader Application Specification
===================================

A Python application that captures and processes text from a selected screen region, with support for dialog summarization and speech-optimized output.

Core Features
------------
1. Screen Region Selection
   - Visual region selector with thin green border
   - Semi-transparent overlay for better visibility
   - Intuitive cursor feedback:
     * Resize cursors on corner handles
     * Hand cursor for dragging
     * Arrow cursor outside region

2. Screen Capture
   - High-frequency capture (1 second intervals)
   - Sensitive change detection using perceptual hashing
   - Efficient image processing and storage
   - Automatic cleanup of temporary files

3. Text Processing
   - OpenAI Vision API integration for text extraction
   - Context-aware text processing
   - Duplicate detection and removal
   - Maintains conversation history

4. Dialog Processing
   - First-person tone for natural conversation
   - Speech-optimized brevity
   - Automatic timestamping
   - Prevents duplicate dialog entries

Key Components
-------------
1. Main Window (src/main.py)
   - Core application logic and UI
   - Four display tabs:
     * Image Preview: Shows current capture
     * Captured Text: Raw captured text
     * Debug Log: Application logs
     * Dialog: Summarized conversations
   - Manages capture timing and image comparison

2. RegionSelector (src/region_selector.py)
   - Clean, minimal UI with thin borders
   - Intuitive resize/drag interactions
   - Smart cursor feedback
   - Screen coordinate handling

3. OpenAI Integration (src/openai_client.py)
   - Vision API for text extraction
   - JSON response format
   - Context management
   - Error handling and logging

4. Dialog Processing (src/dialog_summarizer.py)
   - First-person conversation style
   - Speech-optimized summaries
   - Timestamp management
   - Duplicate prevention

File Structure
-------------
- src/: Source code
- output/: Generated files
  * captures/: Screen captures
  * dialogs/: Processed dialogs
  * debug.log: Application logs
  * captured_text.txt: Raw text
- temp/: Temporary data
- prompts/: OpenAI prompt templates

Dependencies
-----------
- PyQt6: GUI framework
- OpenAI API: Text extraction and summarization
- Python Imaging Library: Image handling
- imagehash: Perceptual image comparison
- mss: Screen capture
- dotenv: Environment configuration

Configuration
-----------
- .env file for API keys
- Region selection saved between sessions
- Configurable capture frequency (1s default)
- Adjustable image comparison sensitivity

Recent Updates
------------
- Improved region selector UI and usability
- Enhanced capture sensitivity and performance
- Speech-optimized dialog processing
- Better error handling and logging

Note: Generated files are excluded from version control.
